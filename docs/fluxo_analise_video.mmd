flowchart TD
    A[Usuário Inicia Gravação] --> B[Configuração da Câmera]
    B --> B1[Resolução: 1080p/4K]
    B --> B2[FPS: 30/60/240]
    B --> B3[Orientação: Portrait/Landscape]
    
    B1 --> C[Calibração Automática]
    B2 --> C
    B3 --> C
    
    C --> C1[Detecção de Ambiente]
    C --> C2[Ajuste de Exposição]
    C --> C3[Foco Automático]
    
    C1 --> D[Início da Gravação]
    C2 --> D
    C3 --> D
    
    D --> E[Processamento em Tempo Real]
    E --> E1[Detecção de Pose MediaPipe]
    E --> E2[Rastreamento de Landmarks]
    E --> E3[Cálculo de Ângulos]
    
    E1 --> F{Qualidade da Detecção}
    E2 --> F
    E3 --> F
    
    F -->|Boa| G[Feedback Visual em Tempo Real]
    F -->|Ruim| H[Alerta de Reposicionamento]
    
    H --> I[Sugestões de Melhoria]
    I --> I1[Melhor Iluminação]
    I --> I2[Distância da Câmera]
    I --> I3[Ângulo de Gravação]
    
    I1 --> D
    I2 --> D
    I3 --> D
    
    G --> J[Fim da Gravação]
    J --> K[Salvamento do Vídeo]
    
    K --> L[Análise Pós-Processamento]
    L --> L1[Análise Completa de Movimento]
    L --> L2[Cálculo de Métricas Avançadas]
    L --> L3[Detecção de Padrões]
    
    L1 --> M{Dispositivo Suporta?}
    L2 --> M
    L3 --> M
    
    M -->|Sim| N[Processamento Local]
    M -->|Não| O[Envio para Nuvem]
    
    N --> N1[Análise com TensorFlow Lite]
    N --> N2[Processamento OpenCV]
    N --> N3[Cálculos Biomecânicos]
    
    O --> O1[Upload Seguro]
    O --> O2[Fila de Processamento]
    O --> O3[Análise em Servidor]
    
    N1 --> P[Geração de Resultados]
    N2 --> P
    N3 --> P
    O1 --> P
    O2 --> P
    O3 --> P
    
    P --> P1[Score Geral 0-100]
    P --> P2[Métricas Específicas]
    P --> P3[Recomendações Personalizadas]
    
    P1 --> Q{Usuário Premium?}
    P2 --> Q
    P3 --> Q
    
    Q -->|Não| R[Resultados Básicos]
    Q -->|Sim| S[Resultados Completos]
    
    R --> R1[Score Geral]
    R --> R2[3 Métricas Principais]
    R --> R3[Recomendação Básica]
    
    S --> S1[Score Detalhado por Categoria]
    S --> S2[Todas as Métricas]
    S --> S3[Análise Comparativa]
    S --> S4[Plano de Melhoria]
    S --> S5[Exportação de Dados]
    
    R1 --> T[Salvamento no Histórico]
    R2 --> T
    R3 --> T
    S1 --> T
    S2 --> T
    S3 --> T
    S4 --> T
    S5 --> T
    
    T --> U[Notificação de Conclusão]
    U --> V[Compartilhamento Opcional]
    
    V --> V1[Redes Sociais]
    V --> V2[Coach/Fisioterapeuta]
    V --> V3[Comunidade do App]
    
    style A fill:#e1f5fe
    style E fill:#e8f5e8
    style P fill:#fff3e0
    style S fill:#f3e5f5
    style T fill:#fce4ec

